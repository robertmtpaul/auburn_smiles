'use strict';(function(h,b){const l=h.isTouch?window.PointerEvent?"pointerdown":"touchstart":"click",L=/iPhone|iPad|iPod|Mac OS/i.test(window.navigator.userAgent),x=function(a){a=Infinity===a?0:a;a=(new Date(1E3*a)).toISOString().substr(11,8).split(":");"00"===a[0]&&a.splice(0,1);return a.join(":")},U=function(a){try{if(a.requestFullscreen)return a.requestFullscreen();if(a.webkitEnterFullscreen)return a.webkitEnterFullscreen();if(a.webkitrequestFullscreen)return a.webkitRequestFullscreen();if(a.mozRequestFullscreen)return a.mozRequestFullScreen()}catch(c){return console.error(c),
!1}},V=function(){try{return b.exitFullscreen?b.exitFullscreen():b.webkitExitFullscreen||b.webkitExitFullscreen?b.webkitExitFullscreen():b.mozCancelFullScreen?b.mozCancelFullScreen():b.msExitFullscreen?b.msExitFullscreen():!1}catch(a){return console.error(a),!1}},W=function(a){return b.exitFullscreen?"":b.webkitExitFullscreen||a.webkitSupportsFullscreen?"webkit":b.mozCancelFullScreen?"moz":b.msExitFullscreen?"ms":!1},M=function(a){const c=W(a);return!1===c?!1:a.hasOwnProperty("webkitDisplayingFullscreen")?
a.webkitDisplayingFullscreen:""===c?b.fullscreenElement:b[c+"FullscreenElement"]},k=function(a,c){const g=b.createElementNS("http://www.w3.org/2000/svg","use"),e=b.createElementNS("http://www.w3.org/2000/svg","svg");a="tf-"+a;e.setAttribute("class","tf_fa "+(c?a+" "+c:a));g.setAttributeNS(null,"href","#"+a);e.appendChild(g);return e},X=function(a){a="tf_video_"+a+"=";for(let c=b.cookie.split(";"),g=c.length-1;-1<g;--g){let b=c[g];for(;" "===b[0];)b=b.substring(1,b.length);if(0===b.indexOf(a))return b.substring(a.length,
b.length)}return null},Y=function(a,c,g){var e="";a="tf_video_"+a;g&&(e=new Date,e.setTime(e.getTime()+864E5*g),e="; expires="+e.toUTCString());b.cookie=a+"="+(c||"")+e+"; path=/"},B=function(a,c){c=b.createDocumentFragment();var g=W(a);const e=h.hash(a.currentSrc.split(".").slice(0,-1).join(".")),N=X(e)||0,y=X("vol_"+e)||-1,d=a.parentNode;var q=b.createElement("div");const r=b.createElement("div"),B=b.createElement("div"),t=b.createElement("div"),O=b.createElement("div"),P=b.createElement("div"),
u=b.createElement("div"),m=b.createElement("input"),n=b.createElement("input"),C=b.createElement("div"),D=b.createElement("div"),z=b.createElement("div"),Q=b.createElement("div"),p=b.createElement("button"),R=b.createElement("button"),E=b.createElement("button"),F=b.createElement("div");d.closest(".track");const G=b.createElement("div"),w=b.createElement("button"),H=b.createElement("button"),I=b.createElement("button"),Z=!1===L||"mobile"!==h.device;let J=!0,K=!1,A=!1,S;B.className="tf_loader";q.className=
"tf_video_container tf_w tf_rel tf_box";r.className="tf_video_wrap tf_w tf_mw tf_box";Q.className="tf_play_wrap";z.className="tf_video_controls";t.className="tf_video_progress_wrap tf_rel tf_textl";O.className="tf_video_progress_loaded tf_w tf_h tf_abs";P.className="tf_video_progress_current tf_w tf_h tf_abs";m.className="tf_video_progress_range tf_w tf_h tf_abs";m.value=0;m.type="range";m.min=0;m.max=100;E.className="tf_video_play";R.className="tf_video_play tf_big_video_play";E.appendChild(k("fas-undo-alt",
"tf_hide"));R.appendChild(k("fas-undo-alt","tf_hide"));d.tabIndex=0;-1!==y&&(y?a.volume=y:a.muted=0);H.className="tf_video_seek tf_video_seek_left tf_abs";I.className="tf_video_seek tf_video_seek_right tf_abs";F.className="tf_video_current_time";G.className="tf_video_total_time";u.className="tf_video_hover tf_abs tf_hide tf_box tf_textc";w.className="tf_video_fullscreen";F.textContent=x(a.currentTime);G.textContent=x(a.duration);q=function(a){d.classList.add("tf_video_waiting");this.addEventListener("seeking"===
a.type?"seeked":"playing",function(){d.classList.remove("tf_video_waiting")},{passive:!0,once:!0})};const aa=function(){try{a.webkitSupportsPresentationMode?a.webkitSetPresentationMode("picture-in-picture"===a.webkitPresentationMode?"inline":"picture-in-picture"):(M(a)&&V(),a!==b.pictureInPictureElement?a.requestPictureInPicture():b.exitPictureInPicture())}catch(f){console.error(f)}},T=function(){d.classList.add("tf_video_touched");d.classList.remove("tf_hide_controls");S&&clearTimeout(S);S=setTimeout(function(){d.classList.remove("tf_video_touched")},
2500)},ba=function(){!1===A&&(A=!0,"desktop"!==h.device&&(a.muted=!0));a.play()};r.addEventListener(l,function(a){a.stopPropagation()},{passive:!0});d.addEventListener(l,function(b){const f=b.target.closest(".tf_video_seek");b.stopImmediatePropagation();a.paused||!1===A||!h.isTouch||!f&&this.classList.contains("tf_video_touched")?(this.classList.remove("tf_video_touched"),a.paused||!1===A?ba():a.pause()):(T(),f&&(a.currentTime+=f.classList.contains("tf_video_seek_left")?-15:15))},{passive:!0});E.addEventListener(l,
function(b){b.stopPropagation();a.paused||!1===A?ba():a.pause()},{passive:!0});if(!h.isTouch)t.addEventListener("mouseenter",function(b){if(!isNaN(a.duration)){u.classList.remove("tf_hide");const b=this.clientWidth,f=parseFloat(u.clientWidth/2),d=a.duration,c=function(a){a=void 0!==a.layerX?a.layerX:a.offsetX;0<a-f&&a<=b&&(u.style.transform="translateX("+(a-f)+"px)",!1===K&&(u.textContent=x(parseFloat(a/b)*d)))};this.addEventListener("mouseleave",function(){u.classList.add("tf_hide");this.removeEventListener("mousemove",
c,{passive:!0})},{passive:!0,once:!0});this.addEventListener("mousemove",c,{passive:!0})}},{passive:!0});else if(!0===L){var v=window.navigator.userAgent;v=parseFloat(v.substr(v.indexOf("OS ")+3,4).replace("_","."));console.log(v);13.5>v&&(v=function(a){var b="touchstart"===a.type?a.touches[0]?a.touches[0]:a.changedTouches[0]:a;a=this.getElementsByTagName("input")[0];const f=this.getBoundingClientRect();b=a.classList.contains("tf_video_volumn_range")?(b.clientY-f.top)/f.height:(b.clientX-f.left)/
f.width;a.value=parseInt(100*b);h.triggerEvent(a,"input");h.triggerEvent(a,"change")},t.addEventListener(l,v,{passive:!0}),!0===Z&&D.addEventListener(l,v,{passive:!0}))}m.addEventListener("input",function(b){b.preventDefault();isNaN(a.duration)||(a.paused||!0!==J||a.pause(),K=!0,b=parseInt(this.value),b=100===b?a.duration-1:parseFloat(b*a.duration/100).toFixed(4),a.currentTime=b,h.isTouch||(u.textContent=x(b)))});m.addEventListener("change",function(b){b.preventDefault();isNaN(a.duration)||(K=J=!1,
a.paused&&a.play().then(a=>{J=!0}).catch(a=>{J=!0}))});a.addEventListener("progress",function(){0<this.buffered.length&&(O.style.transform="scaleX("+parseFloat(this.buffered.end(0)/this.duration).toFixed(4)+")")},{passive:!0});a.addEventListener("durationchange",function(){G.textContent=x(this.duration)},{passive:!0});a.addEventListener("seeking",q,{passive:!0});a.addEventListener("waiting",q,{passive:!0});a.addEventListener("emptied",q,{passive:!0});a.addEventListener("pause",function(){d.classList.remove("tf_video_is_playing")},
{passive:!0});a.addEventListener("play",function(){d.classList.add("tf_video_is_playing");for(let a=b.getElementsByTagName("video"),d=a.length-1;-1<d;--d)a[d]!==this&&a[d].pause()},{passive:!0});a.addEventListener("playing",function(){d.classList.remove("tf_video_ended")},{passive:!0});a.addEventListener("ended",function(){d.classList.add("tf_video_ended")},{passive:!0});a.addEventListener("timeupdate",function(){if(!isNaN(this.duration)){F.textContent=x(this.currentTime);const b=parseFloat(this.currentTime/
a.duration);P.style.transform="scaleX("+b.toFixed(4)+")";!1===K&&(m.value=parseInt(100*b));Y(e,this.currentTime,30)}},{passive:!0});if(!1!==g){let f=!1,c=!1;const e=function(){k(!0);c&&clearTimeout(c);c=setTimeout(k,3E3)},k=function(a){!0===f||!0===a?(f=!1,d.classList.remove("tf_hide_controls")):(f=!0,d.classList.add("tf_hide_controls"))};q=function(c){const f=c.touches?c.touches[0].target:c.target;if("dblclick"!==c.type||f&&!f.closest(".tf_video_wrap"))c.preventDefault(),M(a)?V(a):(c=function(){U(d)||
U(a)},b.pictureInPictureElement||"picture-in-picture"===a.webkitPresentationMode?(aa(),setTimeout(c,80)):c())};w.addEventListener(l,q);h.isTouch||d.addEventListener("dblclick",q);d.addEventListener(g+"fullscreenchange",function(b){M(a)?(d.classList.add("tf_is_fullscreen"),d.addEventListener("mousemove",e,{passive:!0}),a.addEventListener("pause",e,{passive:!0}),c&&clearTimeout(c),c=setTimeout(k,3E3)):(d.classList.remove("tf_is_fullscreen","tf_hide_controls"),c&&clearTimeout(c),a.removeEventListener("pause",
e,{passive:!0}),d.removeEventListener("mousemove",e,{passive:!0}))},{passive:!0})}else w.className+=" tf_fullscreen_disabled tf_play_disabled";w.appendChild(k("fas-expand"));t.appendChild(O);t.appendChild(m);t.appendChild(P);t.appendChild(u);!0===Z&&(n.addEventListener("input",function(b){b.preventDefault();b=parseFloat(this.value/100).toFixed(3);a.volume=b;a.muted=0<b?!1:!0}),a.addEventListener("volumechange",function(){!0===this.muted||0===this.volume?p.classList.add("tf_muted"):p.classList.remove("tf_muted");
Y("vol_"+e,this.volume,120)},{passive:!0}),p.addEventListener(l,function(b){a.muted=!a.muted;a.muted||0!==a.volume||(n.value=50,h.triggerEvent(n,"input"))},{passive:!0}),p.appendChild(k("fas-volume-up")),p.appendChild(k("fas-volume-mute")),C.appendChild(p),n.min=0,n.max=100,n.type="range",n.value=-1<y?100*y:50,D.className="tf_video_volumn_inner",n.className="tf_video_volumn_range",C.className="tf_video_volumn_wrap tf_rel",p.className="tf_video_mute tf_rel tf_overflow",a.muted&&(p.className+=" tf_muted"),
D.appendChild(n),C.appendChild(D),z.appendChild(C));!a.hasAttribute("disablePictureInPicture")&&b.pictureInPictureEnabled&&(g=b.createElement("button"),g.addEventListener(l,aa,{passive:!0}),g.className="tf_video_pip",a.addEventListener("enterpictureinpicture",function(a){d.classList.add("tf_is_pip")},{passive:!0}),a.addEventListener("leavepictureinpicture",function(a){d.classList.remove("tf_is_pip")},{passive:!0}),g.appendChild(k("fas-external-link-alt")),z.appendChild(g));z.appendChild(w);Q.appendChild(E);
r.appendChild(Q);r.appendChild(F);r.appendChild(t);r.appendChild(G);r.appendChild(z);I.innerHTML=H.innerHTML="<span>15</span>";I.appendChild(k("fas-redo-alt"));H.appendChild(k("fas-undo-alt"));c.appendChild(H);c.appendChild(I);c.appendChild(r);c.appendChild(R);c.appendChild(B);d.appendChild(c);window.WebKitPlaybackTargetAvailabilityEvent&&a.addEventListener("webkitplaybacktargetavailabilitychanged",function(c){"available"===c.availability&&(c=b.createElement("button"),c.className="tf_video_airplay",
c.addEventListener(l,function(){a.webkitShowPlaybackTargetPicker()},{passive:!0}),c.appendChild(k("fas-airplay")),w.before(c))},{passive:!0,once:!0});0<N&&N<a.duration&&(a.currentTime=N);a.setAttribute("webkit-playsinline","1");a.setAttribute("playsinline","1");a.removeAttribute("controls");d.classList.remove("tf_lazy")},T=function(a,b){for(let c=a.length-1;-1<c;--c){let e=a[c];4===e.readyState?B(e,b):h.requestIdleCallback(function(){e.addEventListener("loadedmetadata",function(){B(this)},{passive:!0,
once:!0});e.setAttribute("preload","metadata");!0===L&&e.load()},200)}};h.on("tf_video_init",function(a){a instanceof jQuery?a=a.get():void 0===a.length&&(a=[a]);T(a)})})(Themify,document);
